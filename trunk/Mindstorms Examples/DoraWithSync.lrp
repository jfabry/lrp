;; A Random Space Explorer behavior for a differential drive robot
;; Uses both motors as well as a synced motor
;; Wall collisions are detected with the ultrasonic sensor
(var speed :=[20])(var leftmotor := [LRPEV3Bridge motorB])(var rightmotor := [LRPEV3Bridge motorC])(var bothmotor :=[	LRPEV3Bridge instance 		syncMotorsLeft: LRPEV3Bridge motorB		right: LRPEV3Bridge motorC])(var ultra := [LRPEV3Bridge sensor4])(var timeout := [1000 atRandom])(machine Dora	(state forward		(onentry [			LRPEV3Bridge motors speed: speed.			LRPEV3Bridge motors start])		(running [LRPEV3Bridge motors speed: speed])		(onexit [LRPEV3Bridge motors stop]))	(state shock		(onentry [			LRPEV3Bridge motors startAtSpeed: speed negated])		(onexit [LRPEV3Bridge motors stop]))	(state turn		(onentry [			leftmotor startAtSpeed: speed.			rightmotor startAtSpeed: speed negated])		(onexit [			LRPEV3Bridge motors stop.			timeout := 1000 atRandom ]))	(ontime 500 shock -> turn st)	(ontime timeout turn -> forward tf)	(on toclose forward -> shock fs)	(event toclose [ultra read < 10]))(spawn Dora forward)